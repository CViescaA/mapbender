<div>
    <button type="button" class="button hidden -fn-toggle-frame">{{ 'mb.core.printclient.btn.activate' | trans }}</button>
</div>

<form action="{{ submitUrl }}" method="post" target="{{ formTarget }}">
    {% block printclient_form_top %}
    {# render required extra fields on top of the form if configured #}
        {% if configuration.optional_fields is defined and configuration.required_fields_first is defined and configuration.required_fields_first %}
        {% for key,field in configuration.optional_fields ?: [] %}
            {% if field.options.required %}
                <label class="labelInput" for="extra[{{ key }}]">{{ field.label }}
                    <span class="required">*</span>
                </label>
                <input type="text" class="input" name="extra[{{ key }}]" required="required">
            {% endif %}
        {% endfor %}
    {% endif %}
    {% endblock printclient_form_top %}

    {{ form_row(settingsForm.template) }}
    {{ form_row(settingsForm.quality) }}
    {{ form_row(settingsForm.scale_select) }}
    {{ form_row(settingsForm.rotation) }}

    {# render non-required extra fields here #}
    {% if configuration.optional_fields is defined %}
        {% for key,field in configuration.optional_fields ?: [] %}
            {% if configuration.required_fields_first is not defined or not configuration.required_fields_first or not field.options.required %}
                <label class="labelInput" for="extra[{{ key }}]">{{ field.label }}
                {% if field.options.required %}
                    <span class="required">*</span></label>
                    <input type="text" class="input" name="extra[{{ key }}]" required="required">
                {% else %}
                    </label>
                    <input type="text" class="input" name="extra[{{ key }}]">
                {% endif %}
            {% endif %}
        {% endfor %}
    {% endif %}

    {% block printclient_form_bottom %}
    {% if settingsForm.printLegend is defined %}
        {{ form_row(settingsForm.printLegend) }}
    {% endif %}
    {% endblock printclient_form_bottom %}

    <div class="hidden -fn-hidden-fields"></div>
    <div class="text-right">
        <input type="submit" class="button" value="{{ 'mb.core.printclient.popup.btn.ok' | trans }}" />
        <button type="button" class="button critical buttonCancel popupClose">{{ 'mb.core.printclient.popup.btn.cancel' | trans }}</button>
    </div>
</form>
