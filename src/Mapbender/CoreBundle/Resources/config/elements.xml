<?xml version="1.0" encoding="UTF-8" ?>
<container xmlns="http://symfony.com/schema/dic/services"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd">
    <parameters>
        <parameter key="mb.element.view_manager.http_handler.class">Mapbender\CoreBundle\Element\ViewManagerHttpHandler</parameter>
        <parameter key="mb.element.application_switcher.http_handler.class">Mapbender\CoreBundle\Element\ApplicationSwitcherHttpHandler</parameter>
    </parameters>
    <services>
        <service id="mapbender.element.main_map" class="Mapbender\CoreBundle\Element\Map">
            <tag name="mapbender.element" />
            <argument type="service" id="doctrine" />
        </service>
        <service id="mapbender.element.html" class="Mapbender\CoreBundle\Element\HTMLElement">
            <tag name="mapbender.element" />
        </service>
        <service id="mapbender.element.control_button" class="Mapbender\CoreBundle\Element\ControlButton">
            <tag name="mapbender.element" />
        </service>
        <service id="mapbender.element.reset_view" class="Mapbender\CoreBundle\Element\ResetView">
            <tag name="mapbender.element" />
        </service>
        <service id="mapbender.element.link_button" class="Mapbender\CoreBundle\Element\LinkButton">
            <tag name="mapbender.element" />
        </service>
        <service id="mapbender.element.share_url" class="Mapbender\CoreBundle\Element\ShareUrl">
            <tag name="mapbender.element" />
        </service>
        <service id="mapbender.element.activity_indicator" class="Mapbender\CoreBundle\Element\ActivityIndicator">
            <tag name="mapbender.element" />
        </service>
        <service id="mapbender.element.coordinates_display" class="Mapbender\CoreBundle\Element\CoordinatesDisplay">
            <tag name="mapbender.element" />
        </service>
        <service id="mapbender.element.view_manager" class="Mapbender\CoreBundle\Element\ViewManager">
            <tag name="mapbender.element" />
            <argument type="service" id="mb.element.view_manager.http_handler" />
        </service>
        <service id="mb.element.view_manager.http_handler" class="%mb.element.view_manager.http_handler.class%">
            <argument type="service" id="templating" />
            <argument type="service" id="doctrine.orm.default_entity_manager" />
            <argument type="service" id="security.token_storage" />
        </service>
        <service id="mapbender.element.application_switcher" class="Mapbender\CoreBundle\Element\ApplicationSwitcher">
            <tag name="mapbender.element" />
            <argument type="service" id="form.factory" />
            <argument type="service" id="doctrine" />
            <argument type="service" id="mapbender.element.application_switcher.http_handler" />
            <argument type="service" id="mapbender.application.yaml_entity_repository" />
        </service>
        <service id="mapbender.element.application_switcher.http_handler" class="%mb.element.application_switcher.http_handler.class%">
            <argument type="service" id="security.authorization_checker" />
            <argument type="service" id="doctrine.orm.default_entity_manager" />
            <argument type="service" id="mapbender.application.yaml_entity_repository" />
        </service>
        <service id="mapbender.element.about_dialog" class="Mapbender\CoreBundle\Element\AboutDialog">
            <tag name="mapbender.element" />
            <argument type="service" id="templating" />
        </service>
        <service id="mapbender.element.gps_position" class="Mapbender\CoreBundle\Element\GpsPosition">
            <tag name="mapbender.element" />
        </service>
    </services>
</container>
