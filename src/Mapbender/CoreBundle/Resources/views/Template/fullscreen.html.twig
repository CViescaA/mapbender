{% extends "MapbenderCoreBundle::frontend.html.twig" %}

{% block frontend_content %}
  {% set sidePaneClosed = region_props.sidepane.properties.closed|default(false) %}
  <div id="templateWrapper" class="templateWrapper">
    <div id="content" class="contentPane">
      {{ map_markup(application) | raw }}
      {{ unanchored_content_elements(application) | raw }}
    </div>
    <div class="map-overlay">
      <div class="map-overlay-column sidePaneOpened">
        <div class="toolBar top">
          <ul id="toolbar" class="itemsRight">
                <li class="toolBarItem logoContainer">
                  {% block logo %}
                    <img class="logo" src="{{ asset(fom.server_logo) }}"/>
                  {% endblock %}
                </li>
              {% for element in application.elements('toolbar') %}
                <li class="toolBarItem">{{ element.render() | raw }}</li>
              {% endfor %}
          </ul>
        </div>
        <div class="overlay-fill">
          <div class="anchored-element-wrap anchored-element-wrap-lt">{{ anchored_content_elements(application, 'left-top') | raw }}</div>
          <div class="anchored-element-wrap anchored-element-wrap-rt">{{ anchored_content_elements(application, 'right-top') | raw }}</div>
          <div class="anchored-element-wrap anchored-element-wrap-lb">{{ anchored_content_elements(application, 'left-bottom') | raw }}</div>
          <div class="anchored-element-wrap anchored-element-wrap-rb">{{ anchored_content_elements(application, 'right-bottom') | raw }}</div>

        {% if application.elements['sidepane'] is defined %}
          {% set properties = region_props['sidepane'].properties|default({}) %}

        <div class="sidePane left flex-fill" data-closed="{{ properties.closed | default('false') }}">
          <div class="sideContent">
            {{ region_content(application, 'sidepane') | raw }}
          </div>
          <span class="toggleSideBar collapse-toggle"><i class="fa fas fa-bars"></i></span>
        </div>
        {% endif %}{# sidepane #}
        </div>
        <div class="toolBar bottom">
          <ul class="itemsRight">
          {% for element in application.elements('footer')%}
            <li class="toolBarItem">{{ element.render() | raw }}</li>
          {% endfor %}
          </ul>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
